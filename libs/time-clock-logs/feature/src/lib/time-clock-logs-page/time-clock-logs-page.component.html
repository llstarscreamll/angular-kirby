<h1 (click)="searchTimeClockLogs()">Registros de entradas/salidas</h1>

<div class="row mt-4">
  <div class="col-12">
    <a
      *kirbyCan="'time-clock-logs.check-in'"
      routerLink="entry-and-exit-log"
      mat-stroked-button
      color="primary"
      class="mr-2 mb-2"
    >
      Registrar entrada/salida
    </a>
  </div>

  <div class="col-12 mt-2">
    <mat-form-field *kirbyCan="'time-clock-logs.search'" class="w-100">
      <input
        (change)="
          searchTimeClockLogs({ search: $event.srcElement.value, page: 1 })
        "
        matInput
        placeholder="Buscar por nombre, apellido, email, cÃ³digo o identificaciÃ³n"
        type="search"
      />
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
  </div>
</div>

<div class="table-responsive">
  <kirby-time-clock-logs-table
    [userId]="(user$ | async)?.id"
    [timeClockLogs]="timeClockLogs$ | async"
    [actionButtons]="timeClockLogsTableButtons"
    (approve)="onApprove($event)"
    (deleteApproval)="onDeleteApproval($event)"
  >
  </kirby-time-clock-logs-table>
</div>

<div class="text-right">
  <kirby-pagination
    [pagination]="(timeClockLogs$ | async)?.meta"
    (paginate)="searchTimeClockLogs($event)"
  >
  </kirby-pagination>
</div>
